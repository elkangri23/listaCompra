# =================================
# CONFIGURACIÓN DE LA APLICACIÓN
# =================================

# Entorno de ejecución (development, production, test)
NODE_ENV=development

# Puerto del servidor
PORT=3000

# URL base de la aplicación
APP_URL=http://localhost:3000

# =================================
# CONFIGURACIÓN DE BASE DE DATOS
# =================================

# URL de conexión a PostgreSQL
# Formato: postgresql://usuario:contraseña@host:puerto/base_de_datos
DATABASE_URL=postgresql://lista_user:lista_password@localhost:5432/lista_compra_db

# Configuración de pool de conexiones
DB_POOL_MIN=2
DB_POOL_MAX=10

# =================================
# CONFIGURACIÓN DE AUTENTICACIÓN
# =================================

# Clave secreta para JWT (generar una clave segura de al menos 256 bits)
JWT_SECRET=tu_clave_secreta_super_segura_aqui_cambiar_en_produccion

# Tiempo de expiración del token de acceso (en segundos o formato like '1h', '30m', '7d')
JWT_ACCESS_EXPIRES_IN=1h

# Tiempo de expiración del token de refresh (en segundos o formato like '1h', '30m', '7d')
JWT_REFRESH_EXPIRES_IN=7d

# Algoritmo de encriptación para JWT
JWT_ALGORITHM=HS256

# =================================
# CONFIGURACIÓN DE RABBITMQ
# =================================

# URL de conexión a RabbitMQ
RABBITMQ_URL=amqp://guest:guest@localhost:5672

# Configuración de intercambios y colas
RABBITMQ_EXCHANGE_NAME=lista_compra_exchange
RABBITMQ_QUEUE_NOTIFICATIONS=notifications_queue
RABBITMQ_QUEUE_AUDIT=audit_queue
RABBITMQ_QUEUE_DLQ=dead_letter_queue

# Configuración de reconexión
RABBITMQ_RECONNECT_ATTEMPTS=5
RABBITMQ_RECONNECT_DELAY=5000

# =================================
# CONFIGURACIÓN DE EMAIL
# =================================

# Habilitar/deshabilitar envío de emails
EMAIL_ENABLED=true

# Proveedor de email (gmail, outlook, smtp)
EMAIL_PROVIDER=gmail

# Dirección del remitente
EMAIL_FROM=noreply@lista-compra.com

# Credenciales de autenticación
EMAIL_USER=tu_email@gmail.com
EMAIL_PASS=tu_password_de_app_aqui

# Configuración SMTP (solo para provider=smtp)
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_SECURE=false

# Configuración de retry y timeouts
EMAIL_MAX_RETRIES=3
EMAIL_RETRY_DELAY=1000
EMAIL_TIMEOUT=30000

# URL base para enlaces en emails
EMAIL_BASE_URL=http://localhost:3000

# =================================
# CONFIGURACIÓN DE IA
# =================================

# OpenAI API
OPENAI_API_KEY=sk-tu_clave_de_openai_aqui
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=500
OPENAI_TEMPERATURE=0.7

# Configuración de timeouts para servicios de IA
AI_REQUEST_TIMEOUT=30000
AI_MAX_RETRIES=3

# =================================
# CONFIGURACIÓN DE LOGGING
# =================================

# Nivel de logging (error, warn, info, debug)
LOG_LEVEL=info

# Formato de logs (json, simple)
LOG_FORMAT=json

# Directorio para archivos de log
LOG_DIR=./logs

# Tamaño máximo de archivo de log
LOG_MAX_SIZE=10m

# Número máximo de archivos de log
LOG_MAX_FILES=5

# =================================
# CONFIGURACIÓN DE SEGURIDAD
# =================================

# Configuración de rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Configuración de CORS
CORS_ORIGIN=http://localhost:3000,http://localhost:8080
CORS_CREDENTIALS=true

# Configuración de Helmet
HELMET_ENABLED=true

# =================================
# CONFIGURACIÓN DE SERVICIOS DE IA
# =================================

# Proveedor de IA (openai, perplexity, claude, azure-openai)
AI_PROVIDER=perplexity

# API Key para Perplexity AI
PERPLEXITY_API_KEY=your_perplexity_api_key_here

# URL base de la API de Perplexity
PERPLEXITY_API_URL=https://api.perplexity.ai

# Modelo a usar en Perplexity (llama-3.1-sonar-small-128k-online, llama-3.1-sonar-large-128k-online)
PERPLEXITY_MODEL=llama-3.1-sonar-small-128k-online

# Temperatura para respuestas de IA (0.0 - 1.0)
AI_TEMPERATURE=0.7

# Máximo de tokens en respuestas
AI_MAX_TOKENS=1000

# Timeout para requests de IA (en milisegundos)
AI_TIMEOUT=30000

# Cache TTL para respuestas de IA (en segundos)
AI_CACHE_TTL=3600

# Habilitar cache de respuestas de IA
AI_CACHE_ENABLED=true

# Límite de requests por minuto para IA
AI_RATE_LIMIT_PER_MINUTE=10

# =================================
# CONFIGURACIÓN DE TESTING
# =================================

# URL de base de datos para testing
TEST_DATABASE_URL=postgresql://lista_user:lista_password@localhost:5432/lista_compra_test_db

# =================================
# CONFIGURACIÓN DE OBSERVABILIDAD
# =================================

# Configuración de métricas
METRICS_ENABLED=true
METRICS_PORT=9090

# Configuración de tracing
TRACING_ENABLED=false
TRACING_SERVICE_NAME=lista-compra-api

# =================================
# CONFIGURACIÓN DE DESARROLLO
# =================================

# Habilitar documentación Swagger en desarrollo
SWAGGER_ENABLED=true

# Habilitar logs de consultas SQL en desarrollo
DEBUG_SQL=false

# Habilitar modo de depuración
DEBUG_MODE=false